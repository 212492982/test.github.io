# 消息队列

Message Queue

# 应用

  - 解耦 解决RPC耦合及数据丢失的问题
  - 流量削峰、缓冲
  - 数据分发、订阅

# 带来的问题

  - 低可用性 依赖于MQ 要保证MQ高可用
  - 高复杂性 要避免重复消费、消息丢失，要保证消息顺序
  - 不一致性 如何保证多个消费者一致

# 主流MQ比较

| 特性 | ActiveMQ | RabbitMQ | RocketMQ | Kafka |
| :---: | :---: | :---: | :---: | :---: |
| 开发语言 | Java | Erlang | Java | Scala |
| 单机吞吐量 | 万级 | 万级 | 10万级 | 10万级 |
| 时效性 | 毫秒级 | 微秒级 | 毫秒级 | 毫秒级 |
| 可用性 | 主从 | 主从 | 分布式 | 分布式 |
| 功能性 | 过时、成熟、文档齐全、支持各种协议 | 并发高、性能好、延时低、管理界面丰富、二次开发困难 | 功能完备、扩展性佳 | 仅支持主要功能 |
| 领域 | - | 企业 | 电商 | 大数据 |
